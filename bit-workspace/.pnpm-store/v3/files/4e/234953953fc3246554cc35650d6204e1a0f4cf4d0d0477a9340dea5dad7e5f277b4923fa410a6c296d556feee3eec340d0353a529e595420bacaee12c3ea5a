{"version":3,"file":"index.js","sources":["src/index.ts"],"sourcesContent":["export type Options = {\r\n    ignoreId: boolean\r\n};\r\n\r\nconst defaultOptions: Options = {\r\n    ignoreId: false\r\n};\r\n\r\nexport default function getXPath( el: any, customOptions?: Partial< Options > ): string {\r\n    const options = { ...defaultOptions, ...customOptions };\r\n    let nodeElem = el;\r\n    if ( nodeElem && nodeElem.id && ! options.ignoreId ) {\r\n        return \"//*[@id=\\\"\" + nodeElem.id + \"\\\"]\";\r\n    }\r\n    let parts: string[] = [];\r\n    while ( nodeElem && Node.ELEMENT_NODE === nodeElem.nodeType ) {\r\n        let nbOfPreviousSiblings = 0;\r\n        let hasNextSiblings = false;\r\n        let sibling = nodeElem.previousSibling;\r\n        while ( sibling ) {\r\n            if ( sibling.nodeType !== Node.DOCUMENT_TYPE_NODE &&\r\n                sibling.nodeName === nodeElem.nodeName\r\n            ) {\r\n                nbOfPreviousSiblings++;\r\n            }\r\n            sibling = sibling.previousSibling;\r\n        }\r\n        sibling = nodeElem.nextSibling;\r\n        while ( sibling ) {\r\n            if ( sibling.nodeName === nodeElem.nodeName ) {\r\n                hasNextSiblings = true;\r\n                break;\r\n            }\r\n            sibling = sibling.nextSibling;\r\n        }\r\n        let prefix = nodeElem.prefix ? nodeElem.prefix + \":\" : \"\";\r\n        let nth = nbOfPreviousSiblings || hasNextSiblings\r\n            ? \"[\" + ( nbOfPreviousSiblings + 1 ) + \"]\"\r\n            : \"\";\r\n        parts.push( prefix + nodeElem.localName + nth );\r\n        nodeElem = nodeElem.parentNode;\r\n    }\r\n    return parts.length ? \"/\" + parts.reverse().join( \"/\" ) : \"\";\r\n}\r\n\r\n/*\r\n// Loader\r\n(function () {\r\n    let debug = false;\r\n    let show = console.log.bind( console );\r\n    let g = globalThis || window || self;\r\n    let loader = function (name, dependencies, definition ) {\r\n        let deps = dependencies || [];\r\n        // AMD\r\n        if ( \"function\" === typeof g.define && g.define ) {\r\n            debug && show( 'AMD' );\r\n            g.define( deps, definition );\r\n        }\r\n        // CommonJS\r\n        else if ( \"object\" === typeof g.module && g.module && g.module.exports ) {\r\n            debug && show( 'CommonJS' );\r\n            // Require all the dependencies\r\n            if ( \"function\" === typeof g.require && g.require ) {\r\n                for ( let i = 0, len = deps.length; i < len; ++i ) {\r\n                    g.require( deps[ i ] );\r\n                }\r\n            }\r\n            g.module.exports = definition;\r\n        }\r\n        // Direct browser usage\r\n        else if ( \"object\" === typeof window ) {\r\n            debug && show( 'browser' );\r\n            window[name] = definition[name];\r\n        }\r\n        // None of above\r\n        else {\r\n            debug && show( 'Could not export the library.' );\r\n        }\r\n    };\r\n    return loader( \"getXPath\", [], { getXPath: getXPath } );\r\n})();\r\n*/\r\n"],"names":["defaultOptions","ignoreId","el","customOptions","options","_extends","nodeElem","id","parts","Node","ELEMENT_NODE","nodeType","nbOfPreviousSiblings","hasNextSiblings","sibling","previousSibling","DOCUMENT_TYPE_NODE","nodeName","nextSibling","push","prefix","localName","parentNode","length","reverse","join"],"mappings":"mOAIA,IAAMA,EAA0B,CAC5BC,UAAU,2BAGoBC,EAASC,GACvC,IAAMC,EAAOC,KAAQL,EAAmBG,GACpCG,EAAWJ,EACf,GAAKI,GAAYA,EAASC,KAAQH,EAAQH,SACtC,MAAO,YAAeK,EAASC,GAAK,KAGxC,IADA,IAAIC,EAAkB,GACdF,GAAYG,KAAKC,eAAiBJ,EAASK,UAAW,CAI1D,IAHA,IAAIC,EAAuB,EACvBC,GAAkB,EAClBC,EAAUR,EAASS,gBACfD,GACCA,EAAQH,WAAaF,KAAKO,oBAC3BF,EAAQG,WAAaX,EAASW,UAE9BL,IAEJE,EAAUA,EAAQC,gBAGtB,IADAD,EAAUR,EAASY,YACXJ,GAAU,CACd,GAAKA,EAAQG,WAAaX,EAASW,SAAW,CAC1CJ,GAAkB,EAClB,MAEJC,EAAUA,EAAQI,YAMtBV,EAAMW,MAJOb,EAASc,OAASd,EAASc,OAAS,IAAM,IAIlCd,EAASe,WAHpBT,GAAwBC,EAC5B,KAAQD,EAAuB,GAAM,IACrC,KAENN,EAAWA,EAASgB,WAExB,OAAOd,EAAMe,OAAS,IAAMf,EAAMgB,UAAUC,KAAM,KAAQ"}